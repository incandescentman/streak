<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 Days of Writing</title>
<style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            max-width: 800px;
            margin: 0 auto;
        }
        .day {
            background-color: #fff;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .completed {
            background-color: #8bc34a;
            color: #fff;
        }
        .checkmark {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <h1>100 Days of Writing</h1>
    <div class="container" id="dayContainer"></div>

    <script>
        // Sample org-mode file contents
        const orgModeData = `
* DONE <2024-05-30 Thu>
* DONE <2024-05-31 Fri>
* MISSED <2024-06-01 Sat>
* TODO <2024-06-02 Sun>
* TODO <2024-06-03 Mon>
* TODO <2024-06-04 Mon>
`;

        const lines = orgModeData.trim().split('\n');
        const container = document.getElementById('dayContainer');
        let dayCount = 1;
        let currentMonth = '';

        function parseDate(dateString) {
            const [year, month, day] = dateString.split('-');
            return new Date(year, month - 1, day);
        }

        lines.forEach(line => {
            if (line.startsWith('*')) {
                const [status, dateString] = line.slice(2).trim().split(' ');
                const date = parseDate(dateString.slice(1));
                const formattedDate = date.toLocaleString('en-US', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric'
                });
                const monthName = date.toLocaleString('en-US', { month: 'long' });

                const dayElement = document.createElement('div');
                dayElement.classList.add('day');
                if (status === 'DONE') {
                    dayElement.classList.add('completed');
                    dayElement.innerHTML = `
                        <span class="checkmark">✔</span>
                        <p>Day ${dayCount}: ${formattedDate}</p>
                    `;
                } else if (status === 'MISSED') {
                    dayElement.classList.add('missed');
                    dayElement.innerHTML = `
                        <span class="cross">✘</span>
                        <p>Day ${dayCount}: ${formattedDate}</p>
                    `;
                } else {
                    dayElement.classList.add('todo');
                    dayElement.innerHTML = `
                        <span class="empty-square">☐</span>
                        <p>Day ${dayCount}: ${formattedDate}</p>
                    `;
                }

                if (monthName !== currentMonth) {
                    currentMonth = monthName;
                    const monthElement = document.createElement('div');
                    monthElement.classList.add('month');
                    monthElement.textContent = currentMonth;
                    container.appendChild(monthElement);
                }

                container.appendChild(dayElement);
                dayCount++;
            }
        });
    </script>
</body>
</html>
